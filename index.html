<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pembayaran Inline Dropdown</title>
<style>
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display",system-ui;margin:0;padding:0;}
body{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#0f172a,#1e293b);
  color:#fff;
}
.card{
  width:100%;
  max-width:420px;
  padding:28px;
  border-radius:32px;
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(25px);
  box-shadow:0 30px 80px rgba(0,0,0,.6);
}
h2{text-align:center;margin-bottom:24px;font-weight:700;font-size:24px;}

.input-group{margin-bottom:18px;}
.input-group label{display:block;font-size:13px;opacity:.8;margin-bottom:6px;}
.input-group input{
  width:100%;
  padding:16px;
  border:none;
  border-radius:18px;
  background:rgba(255,255,255,.15);
  color:#fff;
  font-size:14px;
}

/* dropdown inline card */
.dropdown-card{
  width:100%;
  padding:16px;
  border-radius:18px;
  background:rgba(255,255,255,.15);
  color:#fff;
  font-size:14px;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:8px;
  position:relative;
  user-select:none;
}
.dropdown-card span.placeholder{opacity:.7;}
.chevron{transition:.3s;transform:rotate(0deg);}
.chevron.open{transform:rotate(90deg);}

/* dropdown options inline */
.dropdown-options{
  position:relative;
  background:rgba(255,255,255,.12);
  border-radius:16px;
  margin-bottom:16px;
  overflow:hidden;
  max-height:0;
  transition:max-height .3s ease;
}
.dropdown-options.show{max-height:300px;}
.dropdown-options div{
  padding:14px;
  text-align:center;
  cursor:pointer;
  transition:.2s;
}
.dropdown-options div:hover{background:rgba(255,255,255,.2);}
.dropdown-options div.selected{color:#60a5fa;font-weight:600;}

/* harga */
.total{text-align:center;font-size:26px;font-weight:700;margin:20px 0;}
.payment-box{
  background:rgba(255,255,255,.12);
  border-radius:18px;
  padding:14px;
  text-align:center;
  margin-bottom:18px;
}
.payment-box img{width:160px;border-radius:14px;margin-top:10px;}

/* buttons */
button{
  width:100%;
  padding:18px;
  border:none;
  border-radius:24px;
  font-size:16px;
  font-weight:600;
  color:#fff;
  cursor:pointer;
  transition:.3s;
}
button:hover{transform:scale(1.02);}
.beli{background:linear-gradient(135deg,#3b82f6,#2563eb);box-shadow:0 8px 20px rgba(59,130,246,.5);}
.wa{background:linear-gradient(135deg,#22c55e,#16a34a);box-shadow:0 8px 20px rgba(34,197,94,.5);}

.timer{text-align:center;margin-top:14px;font-size:14px;opacity:.8;}
.error{text-align:center;font-size:13px;color:#fca5a5;margin-bottom:12px;}
.hidden{display:none;}
.fade{animation:fade .4s ease;}
@keyframes fade{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
</style>
</head>
<body>

<div class="card">
<h2>ðŸ’³ Pembayaran Modern</h2>

<div class="input-group">
<label>Nama</label>
<input id="nama" placeholder="Isi nama">
</div>

<!-- Produk -->
<div class="dropdown-card" onclick="toggleDropdown('produk')">
  <span class="placeholder">Pilih Produk</span>
  <span class="chevron">â€º</span>
</div>
<div class="dropdown-options" id="options-produk">
  <div onclick="selectOption('produk','Premium')">Premium</div>
  <div onclick="selectOption('produk','Sewabot')">Sewabot</div>
</div>

<!-- Durasi -->
<div class="dropdown-card" onclick="toggleDropdown('durasi')">
  <span class="placeholder">Pilih Durasi</span>
  <span class="chevron">â€º</span>
</div>
<div class="dropdown-options" id="options-durasi">
  <div onclick="selectOption('durasi','1')">1 Bulan</div>
  <div onclick="selectOption('durasi','3')">3 Bulan</div>
  <div onclick="selectOption('durasi','12')">12 Bulan</div>
</div>

<!-- Payment -->
<div class="dropdown-card" onclick="toggleDropdown('payment')">
  <span class="placeholder">Pilih Metode</span>
  <span class="chevron">â€º</span>
</div>
<div class="dropdown-options" id="options-payment">
  <div onclick="selectOption('payment','gopay')">GoPay</div>
  <div onclick="selectOption('payment','dana')">DANA</div>
  <div onclick="selectOption('payment','qris')">QRIS</div>
</div>

<div id="paymentInfo" class="payment-box hidden"></div>
<div id="harga" class="total">Rp 0</div>
<div id="error" class="error hidden">Lengkapi semua data terlebih dahulu</div>

<button id="btnBeli" class="beli" onclick="beli()">Beli Sekarang</button>
<div id="timer" class="timer hidden"></div>

<div id="afterBuy" class="hidden fade">
  <input type="file" accept="image/*">
  <button class="wa" onclick="kirimWA()">Kirim ke WhatsApp</button>
</div>
</div>

<script>
let produk="", durasi=0, payment="";
const hargaProduk={Premium:{1:15000,3:40000,12:120000},Sewabot:{1:25000,3:70000,12:200000}};

function toggleDropdown(type){
  const options = document.getElementById(`options-${type}`);
  const chevron = document.querySelector(`#options-${type}`).previousElementSibling.querySelector('.chevron');
  options.classList.toggle('show');
  chevron.classList.toggle('open');
}

function selectOption(type,value){
  const dropdown = document.getElementById(`options-${type}`).previousElementSibling;
  dropdown.querySelector('span').innerText = value;
  document.querySelectorAll(`#options-${type} div`).forEach(d=>d.classList.remove('selected'));
  event.target.classList.add('selected');

  if(type==="produk") produk=value;
  if(type==="durasi") durasi=parseInt(value);
  if(type==="payment") payment=value;
  if(type==="payment") updatePaymentInfo();
  updateHarga();
  toggleDropdown(type);
}

function updateHarga(){
  if(produk && durasi){
    harga.innerText="Rp "+hargaProduk[produk][durasi].toLocaleString("id-ID");
  }
}

function updatePaymentInfo(){
  paymentInfo.classList.remove("hidden");
  if(payment==="gopay") paymentInfo.innerHTML="GoPay<br><b>0812-XXXX-XXXX</b>";
  else if(payment==="dana") paymentInfo.innerHTML="DANA<br><b>0853-XXXX-XXXX</b>";
  else if(payment==="qris") paymentInfo.innerHTML=`QRIS<br><img src="https://i.imgur.com/8QfQG7Q.png">`;
}

function beli(){
  error.classList.add("hidden");
  if(!nama.value||!produk||!durasi||!payment){
    error.classList.remove("hidden");
    return;
  }
  btnBeli.classList.add("hidden");
  let waktu=60;
  timer.classList.remove("hidden");
  const i=setInterval(()=>{
    timer.innerText=`Sisa waktu pembayaran: 00:${String(waktu).padStart(2,"0")}`;
    if(waktu===0){
      clearInterval(i);
      timer.classList.add("hidden");
      afterBuy.classList.remove("hidden");
      return;
    }
    waktu--;
  },1000);
}

function kirimWA(){
  const pesan=`Halo Admin,
Nama: ${nama.value}
Produk: ${produk}
Durasi: ${durasi} Bulan
Payment: ${payment}
Total: ${harga.innerText}`;
  window.open("https://wa.me/6281274717032?text="+encodeURIComponent(pesan), "_blank");
}
</script>

</body>
</html>
